{"version":3,"sources":["webpack:///./src/page/search.vue","webpack:///src/page/search.vue","webpack:///./src/page/search.vue?ccb8"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_search_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_search_vue___default","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_21f51ee2_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_search_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","a","_song","_vuex","data","hotselFlag","hotResult","searchHeight","searchHotList","searchName","searchResult","methods","_extends3","default","mapActions","init","_this","this","_index2","getSearchHot","then","res","result","hots","catch","error","console","log","selectSearchName","hot","first","search","setrecommendHot","musicName","getSearch","keywords","list","songs","listFilter","setsearchformatSongs","selectMusic","music","index","setCurrentList","setCurrentIndex","setPlayFlag","delMusic","currentMusic","id","initCurrentIndex","currentList","splice","computed","mapGetters","created","components","MusicList","_musicList2","esExports","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","click","_s","_l","item","$event","_e","directives","name","rawName","expression","attrs","placeholder","type","domProps","keyup","_k","keyCode","input","target","composing","speciallyHeight","selectCurMusic","delMusicIndex","staticRenderFns"],"mappings":"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","file":"static/js/5.8bba835068dd391c4514.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21f51ee2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21f51ee2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/search.vue\n// module id = JDFc\n// module chunks = 5","<template>\n    <div class=\"search\">\n        <div class=\"search-area\">\n            <div class=\"enumeration\">\n                <div class=\"enumeration-select  select-title\">选择热搜</div>\n                <div @click=\"setrecommendHot\" class=\"enumeration-select  select-result\">{{hotResult}}</div>\n                <ul v-if=\"hotselFlag\">\n                    <li @click=\"selectSearchName(item)\" v-for=\"(item, index) in searchHotList\">{{item.first}}</li>\n                </ul>\n            </div>\n            <input @keyup.enter=\"search\" v-model=\"searchName\" class=\"music-name\" placeholder=\"音乐/歌手\" type=\"text\">\n        </div>\n        <music-list \n            :speciallyHeight='searchHeight'\n            :list=\"searchResult\"\n            @selectCurMusic=\"selectMusic\"\n            @delMusicIndex=\"delMusic\"\n            >\n            <p>当前没有音乐哦~</p>\n        </music-list>\n    </div>\n</template>\n<style lang='less'>\n    .search{\n        width: 100%;\n        height: 100%;\n        .search-area{\n            width: 100%;\n            height: 40px;\n            display: flex;\n            background-color: rgba(0, 0, 0, .3);\n            box-shadow: 0px 0px 6px rgba(0, 0, 0, .3);\n            .enumeration{\n                flex: 1;\n                display: flex;\n                height: 100%;\n                position: relative;\n                .enumeration-select{\n                    margin: 12px 50px;\n                }\n                .select-title{\n                    width: 80px;\n                }\n                .select-result{\n                    flex: 2;\n                    min-width: 50px;\n                    cursor: pointer;\n                }\n                ul{\n                    width: 340px;\n                    margin:0 180px 0 210px;\n                    position: absolute;\n                    top: 60px;\n                    left: 0;\n                    max-height: 280px;\n                    overflow-y: scroll;\n                }\n                li{\n                    cursor: pointer;\n                    height: 40px;\n                    line-height: 40px;\n                    text-indent: 20px;\n                    background-color: rgba(0,0,0, 1);\n                    border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n                }\n            }\n            .music-name{\n                width: 200px;\n                height: 28px;\n                background-color: rgba(0, 0, 0, .3);\n                border: 1px solid rgba(255, 255, 255, 0.7);\n                margin: 6px 10px;\n                color: rgba(255, 255, 255, 0.7);\n                outline: none;\n                font-size: 14px;\n                box-sizing: border-box;\n                padding: 0 5px;\n            }\n            \n        }\n    }\n</style>\n<script>\n    import MusicList from '../components/musicList.vue';\n    import server from '../http/index.js';\n    import {setsearchformatSongs} from '../assets/js/song.js';\n    import { mapActions, mapGetters } from 'vuex';\n    export default {\n        data(){\n            return{\n                hotselFlag: false,\n                hotResult: '请选择',\n                searchHeight: 40,\n                searchHotList: [],\n                searchName: '',\n                searchResult: []\n            }\n        },\n        methods: {\n            ...mapActions(['setPlayFlag', 'setCurrentIndex', 'setCurrentIndex', 'initCurrentIndex', 'setCurrentList']),\n            init() {\n                try{\n                    const _this = this;\n                    server.getSearchHot()\n                    .then(res=>{\n                        _this.searchHotList = res.result.hots\n                    })\n                    .catch(error=>{\n                        console.log(error)\n                    })\n                } catch(error) {\n                    console.log(error)\n                }\n            }, \n            // 热搜\n            selectSearchName(hot) {\n                try{\n                    const _this = this;\n                    _this.searchName = hot.first;\n                    _this.hotselFlag = false;\n                    _this.search();\n                } catch(error) {\n                    console.log(error)\n                }\n            }, \n            setrecommendHot() {\n                try{\n                    const _this = this;\n                    _this.hotselFlag = !_this.hotselFlag;\n                } catch(error) {\n                    console.log(error)\n                }\n            },\n            search() {\n                try{\n                    const _this = this;\n                    if(_this.musicName == ''){\n                        return\n                    }\n                    server.getSearch({keywords: _this.searchName})\n                    .then(res=>{\n                        let list = res.result.songs;\n                        // console.log(list);\n                    //    let listFilter = setsearchformatSongs(list.slice(0,100));\n                       let listFilter = setsearchformatSongs(list);\n                       _this.searchResult = listFilter\n                    })\n                    .catch(error=>{\n                        console.log(error)\n                    })\n                } catch(error) {\n                    console.log(error)\n                }\n            }, \n            selectMusic(music, index) {\n                try{\n                    const _this = this;\n                    // 设置当前播放列表\n                    _this.setCurrentList(_this.searchResult);\n                    // 设置当前播放顺序\n                    _this.setCurrentIndex(index);\n                    _this.setPlayFlag(true);\n                } catch(error) {\n                    console.log(error)\n                }\n            }, \n            delMusic(music, index) {\n                try{\n                    const _this = this;\n                    if(_this.currentMusic.id == music.id){\n                        console.log('删除的是当前的音乐');\n                        _this.setPlayFlag(false);\n                        _this.initCurrentIndex();\n                    }\n                    _this.currentList.splice(index, 1);\n                } catch(error) {\n                    console.log(error)\n                }\n            }, \n        },\n        computed:{\n            ...mapGetters(['currentMusic', 'currentList'])\n        },\n        created(){\n            this.init()\n        },\n        components:{\n            MusicList\n        },\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/page/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-area\"},[_c('div',{staticClass:\"enumeration\"},[_c('div',{staticClass:\"enumeration-select  select-title\"},[_vm._v(\"选择热搜\")]),_vm._v(\" \"),_c('div',{staticClass:\"enumeration-select  select-result\",on:{\"click\":_vm.setrecommendHot}},[_vm._v(_vm._s(_vm.hotResult))]),_vm._v(\" \"),(_vm.hotselFlag)?_c('ul',_vm._l((_vm.searchHotList),function(item,index){return _c('li',{on:{\"click\":function($event){_vm.selectSearchName(item)}}},[_vm._v(_vm._s(item.first))])})):_vm._e()]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchName),expression:\"searchName\"}],staticClass:\"music-name\",attrs:{\"placeholder\":\"音乐/歌手\",\"type\":\"text\"},domProps:{\"value\":(_vm.searchName)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchName=$event.target.value}}})]),_vm._v(\" \"),_c('music-list',{attrs:{\"speciallyHeight\":_vm.searchHeight,\"list\":_vm.searchResult},on:{\"selectCurMusic\":_vm.selectMusic,\"delMusicIndex\":_vm.delMusic}},[_c('p',[_vm._v(\"当前没有音乐哦~\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21f51ee2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/search.vue\n// module id = x6/L\n// module chunks = 5"],"sourceRoot":""}