{"version":3,"sources":["webpack:///./src/components/header.vue?588a","webpack:///./src/assets/js/storage.js","webpack:///./src/components/header.vue","webpack:///./src/store/action.js","webpack:///./src/store/index.js","webpack:///./src/utils/user.js","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?fd81","webpack:///./src/api/config.js","webpack:///./src/store/getter.js","webpack:///./src/assets/js/lazyload.js","webpack:///./src/api/http.js","webpack:///./src/router/index.js","webpack:///./src/http/index.js","webpack:///./src/permission.js","webpack:///./src/store/state.js","webpack:///./src/store/mutation.js","webpack:///./src/store/mutationType.js","webpack:///src/components/header.vue","webpack:///src/App.vue"],"names":["esExports","render","_h","this","$createElement","_c","_self","staticClass","_v","on","click","signOut","attrs","src","headerImg","staticRenderFns","__webpack_exports__","local","key","val","localStorage","setItem","item","getItem","JSON","parse","clear","getHistoryList","setHistoryList","music","type","console","log","list","indexFlag","findIndex","index","arr","id","splice","unshift","_stringify2","default","clearHistory","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_header_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_header_vue___default","n","__WEBPACK_IMPORT_KEY__","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d7c16538_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_header_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","a","types","action","setAudio","_ref","audio","commit","state","GET_AUDIO","setUid","_ref2","uid","SET_UID","setCurrentList","_ref3","SET_CURRENTLIST","setPlayFlag","_ref4","boolean","SET_PLAYFLAG","setCurrentIndex","_ref5","SET_CURRENTINDEX","initCurrentIndex","_ref6","SET_INITCURRENTINDEX","addHistoryList","_ref7","ADD_HISTORYLIST","removeHistoryList","_ref8","REMOVE_HISTORYLIST","Vue","use","Vuex","store","Store","mutations","actions","getters","setUserInfo","userInfo","token","sessionStorage","getUserInfo","removeUserInfo","removeItem","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5ab2cb7c_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","config","productionTip","lazyLoad","require","el","router","components","App","template","$route","path","_e","ref","axios","defaults","timeout","baseURL","headers","post","interceptors","request","method","data","qs","stringify","error","_promise2","reject","response","code","currentIndex","currentList","historyList","playFlag","currentMusic","arguments","length","undefined","Array","prototype","remove","indexOf","init","listenList","imageCatcheList","scrollEl","window","isCanShow","ele","top","getBoundingClientRect","innerHight","innerHeight","image","Image","onload","push","addListener","binding","imageSrc","imgs","isAlredyLoad","addEventListener","i","directive","inserted","updated","request_url","location","port","url","params","resolve","_config2","then","res","err","catch","Router","routes","redirect","component","bind","oe","children","name","mode","_http","getCurrentList","_http2","getSongUrl","getSearch","getSearchHot","getCatlist","getTopPlaylist","getTopPlaylistHigh","getTopPlaylistDetail","getLyric","getdjcatelist","getdjrecommend","getdjprogram","getdjdetail","setLogin","getUserPlaylist","userLogin","userRegister","userReset","_user","beforeEach","_asyncToGenerator3","_regenerator2","mark","_callee","to","from","next","wrap","_context","prev","stop","_x","_x2","_x3","apply","_storage","_defineProperty3","_mutations","CLEARHISTORY","_vuex","methods","_extends3","mapActions","$router","replace","created","_this","_index2","phone","password","profile","avatarUrl","userId","HeaderVue","_header2","mounted","$refs"],"mappings":"uDAAA,IAEAA,GAAiBC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,UAAjHJ,KAAqIK,GAAA,aAArIL,KAAqIK,GAAA,KAAAH,EAAA,OAA4CE,YAAA,aAAuBF,EAAA,UAAeI,IAAIC,MAA3NP,KAA2NQ,WAAqBN,EAAA,OAAYE,YAAA,UAAAK,OAA6BC,IAAzRV,KAAyRW,aAAzRX,KAA8SK,GAAA,KAAAH,EAAA,QAA9SF,KAA8SK,GAAA,eAEvTO,oBACFC,EAAA,wMCFf,IACIC,EAAQ,SACJC,EAAKC,GACLC,aAAaC,QAAQH,EAAKC,IAF9BF,EAAQ,SAIJC,GACA,IAAII,EAAOF,aAAaG,QAAQL,GAEhC,MAAmB,iBAARI,EAEAE,KAAKC,MAAMH,OAT1BL,EAAQ,WAgBJG,aAAaM,SAMRC,iBAAiB,WAG1B,OAAOV,EA1BW,kBA8BTW,iBAAiB,SAACC,EAAOC,GAClCC,QAAQC,IAAR,SAAqBF,GACrB,IAAIG,KAGAC,GAFJD,EAAOhB,EAjCW,kBAmCGkB,UAAU,SAAChB,EAAKiB,EAAOC,GACxC,OAAOlB,EAAImB,IAAMT,EAAMS,KAkB3B,MAhBW,UAARR,EACCG,EAAKM,OAAOL,EAAW,GACV,OAARJ,IAGDI,EAAY,EACZD,EAAKO,QAAQX,GACNK,EAAY,IACnBD,EAAKM,OAAOL,EAAW,GACvBD,EAAKO,QAAQX,KAKrBZ,EApDkB,iBAoDO,EAAAwB,EAAAC,SAAeT,IAEjCA,GAGEU,eAAe,WAExB,OADA1B,2CC3DJ2B,OAAAC,eAAA7B,EAAA,cAAA8B,OAAA,QAAAC,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAA,QAAAI,KAAAJ,EAAA,YAAAI,GAAA,SAAAjC,GAAA8B,EAAAI,EAAApC,EAAAE,EAAA,kBAAA6B,EAAA7B,KAAA,CAAAiC,GAAA,IAAAE,EAAAL,EAAA,QAGA,IASAM,EAZA,SAAAC,GACEP,EAAQ,SAgBVQ,EAdyBR,EAAQ,OAcjCS,CACER,EAAAS,EACAL,EAAA,GATF,EAWAC,EAPA,KAEA,MAUetC,EAAA,QAAAwC,EAAiB,iHC1BhC,IAAYG,0JAAZX,EAAA,SAEA,IAAMY,GACFC,SADW,SAAAC,EACeC,GAAM,IAAtBC,EAAsBF,EAAtBE,OAAsBF,EAAdG,MACdD,EAAOL,EAAMO,UAAWH,IAE5BI,OAJW,SAAAC,EAIaC,GAAI,IAApBL,EAAoBI,EAApBJ,OAAoBI,EAAZH,MACZD,EAAOL,EAAMW,QAASD,IAG1BE,eARW,SAAAC,EAQqBvC,GAAK,IAArB+B,EAAqBQ,EAArBR,OAAqBQ,EAAbP,MACpBD,EAAOL,EAAMc,gBAAiBxC,IAGlCyC,YAZW,SAAAC,EAYkBC,GAAQ,IAAxBZ,EAAwBW,EAAxBX,OAAwBW,EAAhBV,MACjBD,EAAOL,EAAMkB,aAAcD,IAG/BE,gBAhBW,SAAAC,EAgBsB3C,GAAM,IAAtB4B,EAAsBe,EAAtBf,OAAsBe,EAAdd,MACrBD,EAAOL,EAAMqB,iBAAkB5C,GAC/B4B,EAAOL,EAAMkB,cAAc,IAG/BI,iBArBW,SAAAC,GAqBsB,IAAflB,EAAekB,EAAflB,OAAekB,EAAPjB,MACtBD,EAAOL,EAAMwB,sBACbnB,EAAOL,EAAMkB,cAAc,IAG/BO,eA1BW,SAAAC,EA0BuBxD,GAAM,IAAvBmC,EAAuBqB,EAAvBrB,OAAuBqB,EAAfpB,MACrBD,EAAOL,EAAM2B,gBAAiBzD,IAGlC0D,kBA9BW,SAAAC,EA8B0B3D,GAAM,IAAvBmC,EAAuBwB,EAAvBxB,OAAuBwB,EAAfvB,MACxBD,EAAOL,EAAM8B,mBAAoB5D,eAI1B+B,sFCrCf,QAAAZ,EAAA,aACAA,EAAA,aAEAA,EAAA,aACAA,EAAA,aACAA,EAAA,aACAA,EAAA,4DAJA0C,UAAIC,IAAIC,WAMR,IAAIC,EAAQ,IAAID,UAAKE,OACjB7B,gBACA8B,oBACAC,kBACAC,8BAGWJ,gMCfFK,cAAc,SAACC,GACpBA,GAAYA,EAASC,OACrBC,eAAehF,QAAQ,YAAY,EAAAoB,EAAAC,SAAeyD,KAG7CG,cAAc,WACvB,OAAOD,eAAe9E,QAAQ,aAGrBgF,iBAAiB,WAC1B,OAAOF,eAAeG,WAAW,gDCVrC5D,OAAAC,eAAA7B,EAAA,cAAA8B,OAAA,QAAA2D,EAAAzD,EAAA,QAAA0D,EAAA1D,EAAAE,EAAAuD,GAAA,QAAAtD,KAAAsD,EAAA,YAAAtD,GAAA,SAAAjC,GAAA8B,EAAAI,EAAApC,EAAAE,EAAA,kBAAAuF,EAAAvF,KAAA,CAAAiC,GAAA,IAAAwD,EAAA3D,EAAA,QAGA,IASAM,EAZA,SAAAC,GACEP,EAAQ,SAgBVQ,EAdyBR,EAAQ,OAcjCS,CACEiD,EAAAhD,EACAiD,EAAA,GATF,EAWArD,EAPA,KAEA,MAUetC,EAAA,QAAAwC,EAAiB,2CCxBhC,QAAAR,EAAA,aACAA,EAAA,aACAA,EAAA,SACAA,EAAA,QAEAA,EAAA,QACA,QAAAA,EAAA,aACAA,EAAA,4DAHA0C,UAAIkB,OAAOC,eAAgB,EAI3BnB,UAAIC,IAAImB,WACRC,EAAQ,QAER,IAAIrB,WACAsB,GAAI,OACJC,iBACApB,gBACAqB,YAAcC,eACdC,SAAU,qEClBd,IAEApH,GAAiBC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBO,OAAO0B,GAAA,SAAY,WAAnGnC,KAAmGkH,OAAAC,MAAA,MAAnGnH,KAAmGkH,OAAAC,KAAAjH,EAAA,cAAnGF,KAAmGoH,KAAnGpH,KAAmGK,GAAA,KAAAH,EAAA,eAAnGF,KAAmGK,GAAA,KAAAH,EAAA,SAA4ImH,IAAA,WAAY,IAEpQzG,oBACFC,EAAA,+GCHfgC,EAAA,aACAA,EAAA,4DACAyE,UAAMC,SAASC,QAAU,IACzBF,UAAMC,SAASE,QAAU,wBACzBH,UAAMC,SAASG,QAAQC,KAAK,gBAAkB,oCAE9CL,UAAMM,aAAaC,QAAQrC,IAAI,SAAUiB,GAKrC,MAJqB,SAAlBA,EAAOqB,SACNrB,EAAOsB,KAAOC,UAAGC,UAAUxB,EAAOsB,OAG/BtB,GACR,SAAUyB,GAET,OAAOC,EAAA5F,QAAQ6F,OAAOF,KAI1BZ,UAAMM,aAAaS,SAAS7C,IAAI,SAAU6C,GACtC,OAAIA,EAASN,KAAKO,MACa,MAAvBD,EAASN,KAAKO,KACPH,EAAA5F,QAAQ6F,OAAOC,GAKvBA,GACR,SAAUH,GAET,OAAOC,EAAA5F,QAAQ6F,OAAOF,eAGXZ,yGC9BX1D,MAAO,SAAAE,GAAA,OAASA,EAAMF,OACtBM,IAAK,SAAAJ,GAAA,OAASA,EAAMI,KAEpBqE,aAAc,SAAAzE,GAAA,OAASA,EAAMyE,cAE7BC,YAAa,SAAA1E,GAAA,OAASA,EAAM0E,aAE5BC,YAAa,SAAA3E,GAAA,OAASA,EAAM2E,aAE5BC,SAAU,SAAA5E,GAAA,OAASA,EAAM4E,UAEzBC,aAbY,SAaC7E,GACT,OAAOA,EAAM0E,YAAY1E,EAAMyE,kHCdxB,SAAChD,GAAsBqD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAC7BG,MAAMC,UAAUC,SACjBF,MAAMC,UAAUC,OAAS,SAAU9H,GAC/B,GAAKnB,KAAK6I,OAAV,CACA,IAAI5G,EAAQjC,KAAKkJ,QAAQ/H,GACzB,OAAIc,GAAS,GACTjC,KAAKoC,OAAOH,EAAO,GACZjC,WAFX,KAMR,IAAImJ,EAES,4BAGTC,KACAC,KACAC,EAAWC,OASTC,EAAY,SAACrI,GACf,IAAIsI,EAAMtI,EAAKsI,IACX/I,EAAMS,EAAKT,IAEXgJ,EAAMD,EAAIE,wBAAwBD,IAEnBH,OAAOK,WAE1B,GAAIF,EAAM,GAAKH,OAAOM,YAAa,CAC/B,IAAIC,EAAQ,IAAIC,MAOhB,OANAD,EAAMpJ,IAAMA,EACZoJ,EAAME,OAAS,WACXP,EAAI/I,IAAMA,EACV2I,EAAgBY,KAAKvJ,GACrB0I,EAAWH,OAAO9H,KAEf,EAEP,OAAO,GAaT+I,EAAc,SAACT,EAAKU,GAEtBb,EAAWa,EAAQxH,MAAM2G,UAAYC,OACrC,IAAIa,EAAWD,EAAQxH,MAAM0H,KAE7B,GA5CiB,SAACD,GAClB,OAAIf,EAAgBH,QAAQkB,IAAa,EA2CrCE,CAAaF,GAEb,OADAX,EAAI/I,IAAM0J,GACH,EAEX,IAAIjJ,GACAsI,IAAKA,EACL/I,IAAK0J,GAGTX,EAAI/I,IAAMyI,EAENK,EAAUrI,KAIdiI,EAAWa,KAAK9I,GA5BhBmI,EAASiB,iBAAiB,SAAU,WAEhC,IADA,IAAI1B,EAASO,EAAWP,OACf2B,EAAI,EAAGA,EAAI3B,EAAQ2B,IACxBhB,EAAUJ,EAAWoB,QA+BjCjF,EAAIkF,UAAU,YACVC,SAAUR,EACVS,QAAST,kHCtFjBrH,EAAA,4DACA,IAAI+H,EAAuC,SAAzBrB,OAAOsB,SAASC,KAAkB,wBAA0B,wCAC5D,SAAUnJ,EAAMoJ,EAAKC,GACnC,MAAY,OAARrJ,EACO,IAAAwG,EAAA5F,QAAY,SAAC0I,EAAS7C,IACzB,EAAA8C,EAAA3I,UACIZ,OACAoJ,OAAQH,EAAcG,EACtBC,WAEHG,KAAK,SAAAC,GACFH,EAAQG,EAAIrD,OACb,SAAAsD,GACCjD,EAAOiD,KAEVC,MAAM,SAAApD,GACHE,EAAOF,OAGA,QAARvG,EACA,IAAAwG,EAAA5F,QAAY,SAAC0I,EAAS7C,IACzB,EAAA8C,EAAA3I,UACIuF,cACAiD,OAAQH,EAAcG,EACtBhD,YAEHoD,KAAK,SAAAC,GACFH,EAAQG,EAAIrD,QAEfuD,MAAM,SAAApD,GACHE,EAAOF,YAXZ,uFCnBX,QAAArF,EAAA,aACAA,EAAA,4DAuEA0C,UAAIC,IAAI+F,WAGR,IAAIC,IAEIrE,KAAM,IACNsE,SAAU,WAGVtE,KAAM,SACNuE,UAxEM,SAAAT,GACVrE,6CACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,OA0EIzE,KAAM,SACNuE,UAlFM,SAAAT,GACVrE,6CACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,KAkFIH,SAAU,mBACVI,WAGQ1E,KAAM,mBACN2E,KAAM,YACNJ,UA5EE,SAAAT,GACdrE,6CACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,OA+EYzE,KAAM,qBACN2E,KAAM,cACNJ,UA3EI,SAAAT,GAChBrE,8CACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,OA8EYzE,KAAM,mBACN2E,KAAM,YACNJ,UA1EE,SAAAT,GACdrE,6CACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,OA6EYzE,KAAM,gBACN2E,KAAM,SACNJ,UAzED,SAAAT,GACXrE,6CACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,OA4EYzE,KAAM,iBACN2E,KAAM,UACNJ,UAxEA,SAAAT,GACZrE,uBACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,OA2EYzE,KAAM,qBACN2E,KAAM,cACNJ,UAvEI,SAAAT,GAChBrE,6CACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,OA0EYzE,KAAM,qBACN2E,KAAM,cACNJ,UAtEI,SAAAT,GAChBrE,uBACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,OAyEYzE,KAAM,+BACN2E,KAAM,oBACNJ,UArEU,SAAAT,GACtBrE,6CACIqE,EAAQrE,EAAQ,UADpB+E,KAAA,KAAA9I,IAAAyI,MAAAzI,EAAA+I,SAyEIzE,KAAM,IACNsE,SAAU,WAKd3E,EAAS,IAAIyE,WACbQ,KAAM,UACNP,qBAGW1E,gLCvJf,MAAAkF,EAAAnJ,EAAA,uDAIIoJ,eAFW,SAEIjB,GACX,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,YAAayI,IAGpCmB,WANW,SAMAnB,GACP,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,YAAayI,IAGpCoB,UAVW,SAUDpB,GACN,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,UAAWyI,IAGlCqB,aAdW,SAcErB,GACT,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,cAAeyI,IAGtCsB,WAlBW,SAkBAtB,GACP,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,oBAAqByI,IAG5CuB,eAtBW,SAsBIvB,GACX,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,gBAAiByI,IAGxCwB,mBA1BW,SA0BQxB,GACf,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,4BAA6ByI,IAGpDyB,qBA9BW,SA8BUzB,GACjB,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,mBAAoByI,IAG3C0B,SAlCW,SAkCF1B,GACL,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,SAAUyI,IAGjC2B,cAtCW,SAsCG3B,GACV,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,eAAgByI,IAGvC4B,eA1CW,SA0CI5B,GACX,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,qBAAsByI,IAG7C6B,aA9CW,SA8CE7B,GACT,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,cAAeyI,IAGtC8B,YAlDW,SAkDC9B,GACR,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,aAAcyI,IAGrC+B,SAtDW,SAsDF/B,GACL,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,mBAAoByI,IAG3CgC,gBA1DW,SA0DKhC,GACZ,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,iBAAkByI,KAIhCiC,YAAY,SAAAjC,GACrB,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,uBAAwByI,IAGlCkC,eAAe,SAAAlC,GACxB,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,0BAA2ByI,IAGrCmC,YAAY,SAAAnC,GACrB,OAAO,EAAAkB,EAAA3J,SAAK,MAAO,uBAAwByI,2CCvE/CrH,oCAHAd,EAAA,SACAuK,EAAAvK,EAAA,2DAEAiE,UAAOuG,YAAP1J,GAAA,EAAA2J,EAAA/K,SAAAgL,EAAAhL,QAAAiL,KAAkB,SAAAC,EAAOC,EAAIC,EAAMC,GAAjB,OAAAL,EAAAhL,QAAAsL,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAF,MAAA,QAEV,EAAAR,EAAAjH,eACgB,WAAZuH,EAAGvG,KACHyG,EAAK,KAELA,IAGY,WAAZF,EAAGvG,KACHyG,IAEAA,EAAK,UAZC,wBAAAE,EAAAE,SAAAP,OAAA3E,MAAlB,SAAAmF,EAAAC,EAAAC,GAAA,OAAAxK,EAAAyK,MAAApO,KAAA4I,kGCHA,IACM9E,GACFI,IAAK,GACLN,MAAO,KACP4E,eACAD,cAAe,EACfG,UAAU,EACVD,aAAa,EAPjB5F,EAAA,QAOiBrB,iCAGFsC,8ICVHN,0JAAZX,EAAA,SACAwL,EAAAxL,EAAA,QACA,IAAM+C,wBACDpC,EAAMO,UADL,SACgBD,EAAOF,GACrBE,EAAMF,MAAQA,KAFhB,EAAA0K,EAAA/L,SAAAgM,EAID/K,EAAMW,QAJL,SAIcL,EAAOI,GACnBJ,EAAMI,IAAMA,KALd,EAAAoK,EAAA/L,SAAAgM,EAQD/K,EAAMc,gBARL,SAQsBR,EAAOhC,GAC3BgC,EAAM0E,YAAc1G,KATtB,EAAAwM,EAAA/L,SAAAgM,EAYD/K,EAAMkB,aAZL,SAYmBZ,EAAOW,GACxBX,EAAM4E,SAAWjE,KAbnB,EAAA6J,EAAA/L,SAAAgM,EAgBD/K,EAAMqB,iBAhBL,SAgBuBf,EAAO7B,GAE5B6B,EAAMyE,aAAetG,KAlBvB,EAAAqM,EAAA/L,SAAAgM,EAqBD/K,EAAMwB,qBArBL,SAqB2BlB,GACzBA,EAAMyE,cAAgB,KAtBxB,EAAA+F,EAAA/L,SAAAgM,EAyBD/K,EAAM2B,gBAzBL,SAyBsBrB,EAAOpC,GAC3BoC,EAAM2E,aAAc,EAAA4F,EAAA5M,gBAAeC,EAAO,UA1B5C,EAAA4M,EAAA/L,SAAAgM,EA6BD/K,EAAM8B,mBA7BL,SA6ByBxB,EAAOpC,GAC9BoC,EAAM2E,aAAc,EAAA4F,EAAA5M,gBAAeC,EAAO,aA9B5C,EAAA4M,EAAA/L,SAAAgM,EAiCD/K,EAAMgL,aAjCL,SAiCmB1K,EAAOhC,GACxBgC,EAAM2E,aAAc,EAAA4F,EAAA7L,kBAlCtB+L,aAsCS3I,sFCxCF7B,YAAY,YACZI,UAAU,UACVG,kBAAkB,kBAClBI,eAAe,eACfG,mBAAmB,mBACnBG,uBAAuB,uBACvBG,kBAAkB,kBAClBG,qBAAqB,qBACrBkJ,eAAe,0HCmC5B3L,EAAA,SACA4L,EAAA5L,EAAA,QACAuK,EAAAvK,EAAA,sEAEAkF,KADA,WAEA,OACApH,UAAA,2BACAuD,IAAA,KAGAwK,SAAA,EAAAC,EAAApM,aACA,EAAAkM,EAAAG,aAAA,YACApO,QAFA,YAGA,EAAA4M,EAAAhH,kBACApG,KAAA6O,QAAAC,QAAA,aAGAC,QAdA,WAeA,IAAAC,EAAAhP,KAKAiP,EAAA1M,QAAAwK,UAHAmC,MAAA,YACAC,SAAA,WAGAhE,KAAA,SAAAC,GACA4D,EAAArO,UAAAyK,EAAAgE,QAAAC,UACA,IAAAnL,EAAAkH,EAAAgE,QAAAE,OACAN,EAAA9K,MACA8K,EAAAhL,OAAAE,KAEAoH,MAAA,SAAApD,GACAtG,QAAAC,IAAAqG,kHCjEArF,EAAA,SACA4L,EAAA5L,EAAA,sEAGAiJ,KAAA,MACA/E,YACAwI,UAAAC,EAAAjN,SAEAmM,SAAA,EAAAC,EAAApM,aACA,EAAAkM,EAAAG,aAAA,cAEAa,QARA,WASA,IAEA5I,EAFA7G,KAEA0P,MAAA9L,MAFA5D,KAGA0D,SAAAmD","file":"static/js/app.c9d324d30db99230adf8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"在线音乐播放器\")]),_vm._v(\" \"),_c('div',{staticClass:\"user-btn\"},[_c('button',{on:{\"click\":_vm.signOut}},[_c('img',{staticClass:\"user-bg\",attrs:{\"src\":_vm.headerImg}}),_vm._v(\" \"),_c('span',[_vm._v(\"退出\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d7c16538\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/header.vue\n// module id = 1dmq\n// module chunks = 12","// 设置本地缓存\nconst playerhistory = 'playerhistory';\nlet local = {\n    set(key, val){\n        localStorage.setItem(key, val);\n    },\n    get(key){\n        let item = localStorage.getItem(key);\n        // console.log(`判断历史记录类型: ${typeof item}`);\n        if (typeof item == 'string'){\n            // console.log('有历史');\n            return JSON.parse(item)\n        }else{\n            // console.log('没有历史');\n            return [];\n        }\n    },\n    clear(){\n        localStorage.clear()\n    }\n}\n\n// 获取播放历史\n\nexport const getHistoryList = ()=>{\n    // 清除播放历史\n    // local.clear();\n    return local.get(playerhistory);\n}\n\n// 更新播放历史\nexport const setHistoryList = (music, type)=>{\n    console.log(`type: ${type}`);\n    let list = [];\n    list = local.get(playerhistory);\n\n    let indexFlag = list.findIndex((val, index, arr) => {\n        return val.id == music.id\n    });\n    if(type == 'remove'){\n        list.splice(indexFlag, 1);\n    }else if(type == 'add'){\n\n        // 判断历史歌单有没有当前音乐\n        if (indexFlag < 0) {\n            list.unshift(music);\n        } else if (indexFlag > 0) {\n            list.splice(indexFlag, 1);\n            list.unshift(music);\n        }\n    }\n\n    // 获取本地播放历史\n    local.set(playerhistory, JSON.stringify(list))\n\n    return list;\n}\n\nexport const clearHistory = ()=>{\n    local.clear();\n    return [];\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/storage.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d7c16538\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d7c16538\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/header.vue\n// module id = Cz8s\n// module chunks = 12","import * as types from './mutationType';\n\nconst action = {\n    setAudio({commit, state}, audio){\n        commit(types.GET_AUDIO, audio);\n    },\n    setUid({commit, state}, uid){\n        commit(types.SET_UID, uid);\n    },\n    //设置当前播放列表\n    setCurrentList({commit, state}, list){\n        commit(types.SET_CURRENTLIST, list);\n    },\n    // 设置当前播放状态\n    setPlayFlag({commit, state}, boolean){\n        commit(types.SET_PLAYFLAG, boolean);\n    },\n    // 设置当前播放索引 \n    setCurrentIndex({commit, state}, index){\n        commit(types.SET_CURRENTINDEX, index);\n        commit(types.SET_PLAYFLAG, true);\n    },\n    // 初始化当前播放索引与播放状态\n    initCurrentIndex({commit, state}){\n        commit(types.SET_INITCURRENTINDEX);\n        commit(types.SET_PLAYFLAG, false);\n    },\n    //添加播放历史\n    addHistoryList({ commit, state }, music){\n        commit(types.ADD_HISTORYLIST, music);\n    },\n    //删除一条播放历史\n    removeHistoryList({ commit, state }, music){\n        commit(types.REMOVE_HISTORYLIST, music);\n    },\n}\n\nexport default action;\n\n\n// WEBPACK FOOTER //\n// ./src/store/action.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nimport state from './state';\nimport mutations from './mutation';\nimport actions from './action';\nimport getters from './getter';\n\nlet store = new Vuex.Store({\n    state,\n    mutations,\n    actions,\n    getters\n})\n\nexport default store;\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export const setUserInfo = (userInfo) => {\n    if (userInfo && userInfo.token){\n        sessionStorage.setItem(\"userInfo\", JSON.stringify(userInfo))\n    }\n}\nexport const getUserInfo = () => {\n    return sessionStorage.getItem(\"userInfo\")\n}\n\nexport const removeUserInfo = () => {\n    return sessionStorage.removeItem(\"userInfo\")\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/user.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ab2cb7c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ab2cb7c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 12","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport router from './router';\nimport 'mint-ui/lib/style.css';\nVue.config.productionTip = false;\nimport '@/assets/css/index.less';\nimport store from './store';\nimport lazyLoad from './assets/js/lazyload';\nVue.use(lazyLoad)\nrequire(\"./permission\");\n/* eslint-disable no-new */\nnew Vue({\n    el: '#app',\n    router,\n    store,\n    components: { App },\n    template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.$route.path !== '/login' && _vm.$route.path !== '/')?_c('header-vue'):_vm._e(),_vm._v(\" \"),_c('router-view'),_vm._v(\" \"),_c('audio',{ref:\"audio\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ab2cb7c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = SQHY\n// module chunks = 12","import axios from 'axios';\nimport qs from 'qs';\naxios.defaults.timeout = 50000;\naxios.defaults.baseURL = 'http://localhost:3000';\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\naxios.interceptors.request.use(function (config) {\n    if(config.method === 'post'){\n        config.data = qs.stringify(config.data)\n    }\n    // 在发送请求之前做些什么\n    return config;\n}, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n});\n\n// 添加响应拦截器\naxios.interceptors.response.use(function (response) {\n    if (response.data.code){\n        if (response.data.code !== 200) {\n            return Promise.reject(response);\n        }\n    }\n    \n    // 对响应数据做点什么\n    return response;\n}, function (error) {\n    // 对响应错误做点什么\n    return Promise.reject(error);\n});\n\nexport default axios;\n\n\n// WEBPACK FOOTER //\n// ./src/api/config.js","const getters = {\n    // 当前元素\n    audio: state => state.audio,\n    uid: state => state.uid,\n    // 当前播放索引\n    currentIndex: state => state.currentIndex,\n    // 当前播放列表\n    currentList: state => state.currentList,\n    // 历史播放列表\n    historyList: state => state.historyList,\n    // 当前播放状态\n    playFlag: state => state.playFlag,\n    // 当前播放音乐\n    currentMusic(state){\n        return state.currentList[state.currentIndex] || {};\n    },\n}\n\nexport default getters;\n\n\n// WEBPACK FOOTER //\n// ./src/store/getter.js","export default (Vue, options = {}) => {\n    if (!Array.prototype.remove) {\n        Array.prototype.remove = function (item) {\n            if (!this.length) return\n            var index = this.indexOf(item);\n            if (index > -1) {\n                this.splice(index, 1);\n                return this\n            }\n        }\n    }\n    var init = {\n        lazyLoad: false,\n        default: '/static/image/loading.gif'\n    }\n\n    var listenList = [],\n        imageCatcheList = [],\n        scrollEl = window;\n    const isAlredyLoad = (imageSrc) => {\n        if (imageCatcheList.indexOf(imageSrc) > -1) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n    //检测图片是否可以加载，如果可以则进行加载\n    const isCanShow = (item) => {\n        var ele = item.ele;\n        var src = item.src;\n        //图片距离页面顶部的距离\n        var top = ele.getBoundingClientRect().top;\n        //页面可视区域的高度\n        var windowHeight = window.innerHight;\n        //top + 10 已经进入了可视区域10像素\n        if (top + 10 < window.innerHeight) {\n            var image = new Image();\n            image.src = src;\n            image.onload = function () {\n                ele.src = src;\n                imageCatcheList.push(src);\n                listenList.remove(item);\n            }\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    const onListenScroll = () => {\n        scrollEl.addEventListener('scroll', function () {\n            var length = listenList.length;\n            for (let i = 0; i < length; i++) {\n                isCanShow(listenList[i]);\n            }\n        })\n    }\n    //Vue 指令最终的方法\n    const addListener = (ele, binding) => {\n        //绑定的图片地址\n        scrollEl = binding.value.scrollEl || window;\n        var imageSrc = binding.value.imgs;\n        //如果已经加载过，则无需重新加载，直接将src赋值\n        if (isAlredyLoad(imageSrc)) {\n            ele.src = imageSrc;\n            return false;\n        }\n        var item = {\n            ele: ele,\n            src: imageSrc\n        }\n        //图片显示默认的图片\n        ele.src = init.default;\n        //再看看是否可以显示此图片\n        if (isCanShow(item)) {\n            return\n        }\n        //否则将图片地址和元素均放入监听的lisenList里\n        listenList.push(item);\n\n        //然后开始监听页面scroll事件\n        onListenScroll();\n    }\n\n    Vue.directive('lazyload', {\n        inserted: addListener,\n        updated: addListener\n    })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/lazyload.js","import axios from './config';\nlet request_url = window.location.port === '9688' ? 'http://localhost:3000' : 'http://139.224.229.251:3000';\nlet httprequest = function (type, url, params){\n    if (type == 'get'){\n        return new Promise((resolve, reject)=>{\n            axios({\n                type,\n                url: `${request_url}${url}`,\n                params\n            })\n            .then(res=>{\n                resolve(res.data)\n            }, err => {\n                reject(err);\n            })\n            .catch(error=>{\n                reject(error)\n            })\n        })\n    } else if (type == 'post'){\n        return new Promise((resolve, reject) => {\n            axios({\n                method,\n                url: `${request_url}${url}`,\n                data\n            })\n            .then(res => {\n                resolve(res.data)\n            })\n            .catch(error => {\n                reject(error)\n            })\n        })\n    }\n}\n\nexport default httprequest;\n\n\n// WEBPACK FOOTER //\n// ./src/api/http.js","import Vue from 'vue';\nimport Router from 'vue-router';\n\n// 首页\nconst Index = resolve => {\n    require.ensure(['@/page/index'], () => {\n        resolve(require('@/page/index'));\n    })\n}\n\nconst Login = resolve => {\n    require.ensure(['@/page/login'], () => {\n        resolve(require('@/page/login'));\n    })\n}\n\n// 推荐\nconst Recommend = resolve => {\n    require.ensure(['@/page/recommend'], () => {\n        resolve(require('@/page/recommend'));\n    })\n}\n\n// 正在播放列表\nconst CurrentPlay = resolve => {\n    require.ensure(['@/page/currentPlay'], () => {\n        resolve(require('@/page/currentPlay'));\n    })\n}\n\n// 歌单\nconst Songsheet = resolve => {\n    require.ensure(['@/page/songsheet'], () => {\n        resolve(require('@/page/songsheet'));\n    })\n}\n\n// 歌单\nconst Search = resolve => {\n    require.ensure(['@/page/search'], () => {\n        resolve(require('@/page/search'));\n    })\n}\n\n// 我的歌单\nconst Ownlist = resolve => {\n    require.ensure(['@/page/ownlist'], () => {\n        resolve(require('@/page/ownlist'));\n    })\n}\n\n// 历史列表\nconst HistoryPlay = resolve => {\n    require.ensure(['@/page/historyPlay'], () => {\n        resolve(require('@/page/historyPlay'));\n    })\n}\n\n// 电台\nconst Transceiver = resolve => {\n    require.ensure(['@/page/transceiver'], () => {\n        resolve(require('@/page/transceiver'));\n    })\n}\n\n// 电台节目\nconst TransceiverParams = resolve => {\n    require.ensure(['@/page/transceiverparams'], () => {\n        resolve(require('@/page/transceiverparams'));\n    })\n}\n\nVue.use(Router);\n\n\nlet routes = [\n    {\n        path: '/',\n        redirect: '/music',\n    },\n    {\n        path: '/login',\n        component: Login,\n    },\n    {\n        path: '/music',\n        component: Index,\n        redirect: '/music/recommend',\n        children: [\n            // 推荐\n            {\n                path: '/music/recommend',\n                name: 'recommend',\n                component: Recommend,\n            },\n            // 当前正在播放\n            {\n                path: '/music/currentPlay',\n                name: 'currentPlay',\n                component: CurrentPlay,\n            },\n            // 歌单 \n            {\n                path: '/music/songsheet',\n                name: 'songsheet',\n                component: Songsheet,\n            },\n            // 搜索 \n            {\n                path: '/music/search',\n                name: 'search',\n                component: Search,\n            },\n            // 我的歌单 \n            {\n                path: '/music/ownlist',\n                name: 'ownlist',\n                component: Ownlist,\n            },\n            // 历史播放记录\n            {\n                path: '/music/historyPlay',\n                name: 'historyPlay',\n                component: HistoryPlay,\n            },\n            // 电台\n            {\n                path: '/music/transceiver',\n                name: 'transceiver',\n                component: Transceiver,\n            },\n            // 电台节目\n            {\n                path: '/music/transceiverParams/:id',\n                name: 'transceiverParams',\n                component: TransceiverParams,\n            },\n        ]\n    },\n    {\n        path: '*',\n        redirect: '/music',\n    },\n\n]\n\nlet router = new Router({\n    mode: 'history',\n    routes\n})\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import http from '../api/http';\n\nexport default {\n    // 获取网友精选碟作为当前播放列表\n    getCurrentList(params){\n        return http('get', '/top/list', params);\n    },\n    // 获取音乐url\n    getSongUrl(params){\n        return http('get', '/song/url', params);\n    },\n    // 搜索音乐\n    getSearch(params){\n        return http('get', '/search', params);\n    },\n    // 热搜\n    getSearchHot(params){\n        return http('get', '/search/hot', params);\n    },\n    // 歌单分类列表\n    getCatlist(params){\n        return http('get', '/playlist/catlist', params);\n    },\n    // 歌单分类列表 => 获取歌单\n    getTopPlaylist(params){\n        return http('get', '/top/playlist', params);\n    },\n    // 歌单分类列表 => 获取歌单 => 分页\n    getTopPlaylistHigh(params){\n        return http('get', '/top/playlist/highquality', params);\n    },\n    // 歌单分类列表 => 获取歌单详情\n    getTopPlaylistDetail(params){\n        return http('get', '/playlist/detail', params);\n    },\n    // 获取歌词\n    getLyric(params){\n        return http('get', '/lyric', params);\n    },\n    // 获取电台分类\n    getdjcatelist(params){\n        return http('get', '/dj/catelist', params);\n    },\n    // 推荐电台列表\n    getdjrecommend(params){\n        return http('get', '/dj/recommend/type', params);\n    },\n    // 获取电台节目\n    getdjprogram(params){\n        return http('get', '/dj/program', params);\n    },\n    // 获取电台节目信息\n    getdjdetail(params){\n        return http('get', '/dj/detail', params);\n    },\n    // 登录\n    setLogin(params){\n        return http('get', '/login/cellphone', params);\n    },\n    // 获取用户歌单\n    getUserPlaylist(params){\n        return http('get', '/user/playlist', params);\n    },\n}\n// 用户登录\nexport const userLogin = params => {\n    return http('get', '/node-api/user/login', params);\n}\n// 用户注册\nexport const userRegister = params => {\n    return http('get', '/node-api/user/register', params);\n}\n// 用户重置密码\nexport const userReset = params => {\n    return http('get', '/node-api/user/reset', params);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/http/index.js","import router from './router'\nimport { getUserInfo } from \"./utils/user\"\n\nrouter.beforeEach(async (to, from, next) => {\n    \n    if (getUserInfo()){\n        if (to.path === \"/login\") {\n            next(\"/\")\n        }else{\n            next()\n        }\n    }else{\n        if (to.path === \"/login\"){\n            next()\n        }else{\n            next(\"/login\")\n        }\n    }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/permission.js","import { getHistoryList } from '../assets/js/storage'\nconst state = {\n    uid: '',\n    audio: null,\n    currentList: [],        // 当前播放列表\n    currentIndex: -1,       // 当前播放索引\n    playFlag: false,        // 当前播放状态\n    historyList: getHistoryList() || [],        // 播放历史\n}\n\nexport default state\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","import * as types from './mutationType';\nimport { setHistoryList, clearHistory } from '../assets/js/storage'\nconst mutations = {\n    [types.GET_AUDIO](state, audio){\n        state.audio = audio;\n    },\n    [types.SET_UID](state, uid){\n        state.uid = uid;\n    },\n    // 设置当前播放列表\n    [types.SET_CURRENTLIST](state, list){\n        state.currentList = list;\n    },\n    // 设置当前播放状态\n    [types.SET_PLAYFLAG](state, boolean){\n        state.playFlag = boolean;\n    },\n    // 设置当前播放索引\n    [types.SET_CURRENTINDEX](state, index){\n        // console.log('mutation: ' + index);\n        state.currentIndex = index;\n    },\n    // 初始化当前播放索引\n    [types.SET_INITCURRENTINDEX](state){\n        state.currentIndex = -1;\n    },\n    // 添加一条播放历史\n    [types.ADD_HISTORYLIST](state, music){\n        state.historyList = setHistoryList(music, 'add');\n    },\n    // 删除一条播放历史\n    [types.REMOVE_HISTORYLIST](state, music){\n        state.historyList = setHistoryList(music, 'remove');\n    },\n    // 清除播放历史\n    [types.CLEARHISTORY](state, list){\n        state.historyList = clearHistory();\n    },\n}\n\nexport default mutations;\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation.js","export const GET_AUDIO = 'GET_AUDIO';                                   //获取audio元素\nexport const SET_UID = 'SET_UID';                                   //设置\nexport const SET_CURRENTLIST = 'SET_CURRENTLIST'                        // 设置当前播放列表\nexport const SET_PLAYFLAG = 'SET_PLAYFLAG'                              // 设置播放暂停\nexport const SET_CURRENTINDEX = 'SET_CURRENTINDEX'                      // 设置播放暂停\nexport const SET_INITCURRENTINDEX = 'SET_INITCURRENTINDEX'              // 初始化当前播放索引\nexport const ADD_HISTORYLIST = 'ADD_HISTORYLIST'                        // 添加播放历史\nexport const REMOVE_HISTORYLIST = 'REMOVE_HISTORYLIST'                        // 删除播放历史\nexport const CLEARHISTORY = 'CLEARHISTORY'                              // 删除播放历史\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutationType.js","<template>\n    <div class=\"header\">\n        <div class=\"title\">在线音乐播放器</div>\n        <div class=\"user-btn\">\n            <button @click=\"signOut\">\n                <img :src=\"headerImg\" class=\"user-bg\">\n                <span >退出</span>\n            </button>\n        </div>\n    </div>\n</template>\n<style lang='less'>\n    .header{\n        display: flex;\n        height: 60px;\n        line-height: 60px;\n        text-align: center;\n        .title{\n            flex: 1;\n            font-weight: 700;\n            font-size: 18px;\n        }\n        .user-btn{\n            width: 100px;\n            height: 100%;\n            button{\n                width: 100%;\n                height: 100%;\n                display: flex;\n                align-items:center;\n                .user-bg{\n                    height: 40px;\n                    width: 40px;\n                    border-radius: 50%;\n                }\n                span{\n                    flex: 1;\n                }\n            }\n        }\n    }\n</style>\n<script>\n    import server from '../http/index.js';\n    import { mapActions } from 'vuex';\n    import { removeUserInfo } from \"../utils/user\";\n    export default {\n        data(){\n            return{\n                headerImg: '/static/image/userBg.jpg',\n                uid: ''\n            }\n        },\n        methods: {\n            ...mapActions(['setUid']),\n            signOut() {\n                removeUserInfo();\n                this.$router.replace(\"/login\");\n            },\n        },\n        created(){\n            const _this = this;\n            let params = {\n                phone: 13175573352,\n                password: '123456'\n            }\n            server.setLogin(params)\n            .then(res=>{\n                _this.headerImg = res.profile.avatarUrl;\n                let uid = res.profile.userId;\n                _this.uid = uid;\n                _this.setUid(uid);\n            })\n            .catch(error=>{\n                console.log(error)\n            })\n        },\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/header.vue","<template>\n    <div id=\"app\">\n        <header-vue v-if=\"$route.path !== '/login' && $route.path !== '/'\"></header-vue>\n        <router-view/>\n        <audio ref=\"audio\"></audio>\n    </div>\n</template>\n\n<script>\n    import HeaderVue from './components/header.vue';\n    import { mapActions } from 'vuex';\n    \n    export default {\n        name: \"App\",\n        components:{\n            HeaderVue\n        },\n        methods:{\n            ...mapActions(['setAudio']),\n        },\n        mounted(){\n            const _this = this;\n            // 初始化audio标签\n            let el = _this.$refs.audio;\n            _this.setAudio(el)\n        },\n    };\n</script>\n\n<style>\n    #app {\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}